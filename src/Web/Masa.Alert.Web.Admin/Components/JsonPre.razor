@inherits AdminCompontentBase
<pre class="json-pre overflow-y" @ref="Ref" style="@($"max-height:{(Height.IsT0? Height.AsT0 : Height.AsT1 + "px")}")"></pre>

@code {
    [Parameter]
    public string Value { get; set; } = default!;

    [Parameter]
    public StringNumber Height { get; set; } = 250;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JsonFormat();
        }
    }

    protected override async Task OnParametersSetAsync()
    {
        await JsonFormat();
    }

    private async Task JsonFormat()
    {
        await Js.InvokeVoidAsync("util.jsonFormat", Ref, Value);
    }
}
